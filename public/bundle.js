var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function a(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const r="undefined"!=typeof window;let c=r?()=>window.performance.now():()=>Date.now(),l=r?t=>requestAnimationFrame(t):t;const d=new Set;let u,p=!1;function m(){d.forEach(t=>{t[0](c())||(d.delete(t),t[1]())}),(p=d.size>0)&&l(m)}function f(t){let e;return p||(p=!0,l(m)),{promise:new Promise(n=>{d.add(e=[t,n])}),abort(){d.delete(e)}}}function g(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function y(){return t=" ",document.createTextNode(t);var t}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}let _,k=0,w={};function Z(t,e,n,o,s,a,i,r=0){const c=16.666/o;let l="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*a(t);l+=100*t+`%{${i(o,1-o)}}\n`}const d=l+`100% {${i(n,1-n)}}\n}`,p=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${r}`;if(!w[p]){if(!u){const t=b("style");document.head.appendChild(t),u=t.sheet}w[p]=!0,u.insertRule(`@keyframes ${p} ${d}`,u.cssRules.length)}const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${p} ${o}ms linear ${s}ms 1 both`,k+=1,p}function z(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--k&&l(()=>{if(k)return;let t=u.cssRules.length;for(;t--;)u.deleteRule(t);w={}})}function M(t){_=t}function C(){if(!_)throw new Error("Function called outside component initialization");return _}const U=[],B=[],O=[],E=[],S=Promise.resolve();let N,q=!1;function A(t){O.push(t)}function G(){const t=new Set;do{for(;U.length;){const t=U.shift();M(t),I(t.$$)}for(;B.length;)B.pop()();for(let e=0;e<O.length;e+=1){const n=O[e];t.has(n)||(n(),t.add(n))}O.length=0}while(U.length);for(;E.length;)E.pop()();q=!1}function I(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(A))}function T(){return N||(N=Promise.resolve()).then(()=>{N=null}),N}function j(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const H=new Set;let D;function R(t,e){t&&t.i&&(H.delete(t),t.i(e))}function W(t,e,n,o){if(t&&t.o){if(H.has(t))return;H.add(t),D.c.push(()=>{H.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const F={duration:0};function P(t,e,o){const{fragment:i,on_mount:r,on_destroy:c,after_update:l}=t.$$;i.m(e,o),A(()=>{const e=r.map(n).filter(a);c?c.push(...e):s(e),t.$$.on_mount=[]}),l.forEach(A)}function J(t,e){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function Q(t,e){t.$$.dirty||(U.push(t),q||(q=!0,S.then(G)),t.$$.dirty=o()),t.$$.dirty[e]=!0}function Y(e,n,a,i,r,c){const l=_;M(e);const d=n.props||{},u=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:null};let p=!1;var m;u.ctx=a?a(e,d,(t,n)=>{u.ctx&&r(u.ctx[t],u.ctx[t]=n)&&(u.bound[t]&&u.bound[t](n),p&&Q(e,t))}):d,u.update(),p=!0,s(u.before_update),u.fragment=i(u.ctx),n.target&&(n.hydrate?u.fragment.l((m=n.target,Array.from(m.childNodes))):u.fragment.c(),n.intro&&R(e.$$.fragment),P(e,n.target,n.anchor),G()),M(l)}class K{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const V=[];function X(e,n=t){let o;const s=[];function a(t){if(i(e,t)&&(e=t,o)){const t=!V.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),V.push(n,e)}if(t){for(let t=0;t<V.length;t+=2)V[t][0](V[t+1]);V.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(i,r=t){const c=[i,r];return s.push(c),1===s.length&&(o=n(a)||t),i(e),()=>{const t=s.indexOf(c);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}const tt=X(0),et=X(0);function nt(e){var n;return{c(){x(n=b("div"),"id","map")},m(t,o){h(t,n,o),e.div_binding(n)},p:t,i:t,o:t,d(t){t&&v(n),e.div_binding(null)}}}function ot(t,e,n){let o,s=null,{center:a=[55.72711,37.441406],id:i="",layers:r=[],maxZoom:c=21,minZoom:l=1,zoom:d=4,ftc:u="osm",srs:p=3857,distanceUnit:m="auto",squareUnit:f="auto",baseLayers:g=[]}=e;var h;return h=(()=>{const{DefaultLong:t,DefaultLat:e,MinZoom:i,MaxZoom:r,DefaultZoom:u,DistanceUnit:p,SquareUnit:g}={};n("center",a=[e||60.5,t||95.09]),n("minZoom",l=i||l),n("maxZoom",c=r||c),n("zoom",d=u||d),n("distanceUnit",m=p||m),n("squareUnit",f=g||f),(s=L.map(o,{center:a,minZoom:l,zoom:d,maxZoom:c,zoomControl:!1,attributionControl:!1,trackResize:!0,fadeAnimation:!0,zoomAnimation:!0,distanceUnit:"auto",squareUnit:"auto"})).invalidateSize(),tt.set(s)}),C().$$.on_mount.push(h),t.$set=(t=>{"center"in t&&n("center",a=t.center),"id"in t&&n("id",i=t.id),"layers"in t&&n("layers",r=t.layers),"maxZoom"in t&&n("maxZoom",c=t.maxZoom),"minZoom"in t&&n("minZoom",l=t.minZoom),"zoom"in t&&n("zoom",d=t.zoom),"ftc"in t&&n("ftc",u=t.ftc),"srs"in t&&n("srs",p=t.srs),"distanceUnit"in t&&n("distanceUnit",m=t.distanceUnit),"squareUnit"in t&&n("squareUnit",f=t.squareUnit),"baseLayers"in t&&n("baseLayers",g=t.baseLayers)}),{mapContainer:o,center:a,id:i,layers:r,maxZoom:c,minZoom:l,zoom:d,ftc:u,srs:p,distanceUnit:m,squareUnit:f,baseLayers:g,div_binding:function(t){B[t?"unshift":"push"](()=>{n("mapContainer",o=t)})}}}class st extends K{constructor(t){super(),Y(this,t,ot,nt,i,["center","id","layers","maxZoom","minZoom","zoom","ftc","srs","distanceUnit","squareUnit","baseLayers"])}}function at(e){var n,o,a,i,r,c,l;return{c(){n=b("div"),o=b("div"),a=y(),(i=b("div")).textContent="5",r=y(),c=b("div"),x(o,"class","right-controls-3-1"),x(i,"class","right-controls-3-2"),x(c,"class","right-controls-3-3"),x(n,"class","right-controls-3"),l=[$(o,"click",e.zoomIn),$(c,"click",e.zoomOut)]},m(t,s){h(t,n,s),g(n,o),g(n,a),g(n,i),e.div1_binding(i),g(n,r),g(n,c)},p:t,i:t,o:t,d(t){t&&v(n),e.div1_binding(null),s(l)}}}function it(t,e,n){let o,s,a=t=>{let e=o.getZoom();s.textContent=e,n("zoom",s),console.log("setZoom",o.getZoom(),t)};var i;return L.Map.addInitHook(function(){(o=this).on("zoomend",a)}),i=(()=>{console.log("the component is about to update",o)}),C().$$.before_update.push(i),{zoom:s,zoomIn:()=>{let t=parseInt(s.textContent);console.log("zoomIn",o.getZoom(),s),o.setZoom(t+1)},zoomOut:()=>{let t=parseInt(s.textContent);console.log("zoomOut",o.getZoom()),o.setZoom(t-1)},div1_binding:function(t){B[t?"unshift":"push"](()=>{n("zoom",s=t)})}}}class rt extends K{constructor(t){super(),Y(this,t,it,at,i,[])}}function ct(t){const e=t-1;return e*e*e+1}function lt(t,{delay:e=0,duration:n=400}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,css:t=>`opacity: ${t*o}`}}function dt(t,{delay:e=0,duration:n=400,easing:o=ct,x:s=0,y:a=0,opacity:i=0}){const r=getComputedStyle(t),c=+r.opacity,l="none"===r.transform?"":r.transform,d=c*(1-i);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*s}px, ${(1-t)*a}px);\n\t\t\topacity: ${c-d*e}`}}function ut(n){var o,i,r,l,d,u,p,m,_,k,w,L,M,C,U,B,O,E,S,N,q,G,I,H,R,W,P,J,Q,Y,K,V,X,tt,et,nt,ot,st,at;return{c(){o=b("div"),i=b("div"),r=b("div"),(l=b("div")).textContent="Подложка",d=y(),u=b("div"),p=y(),m=b("div"),_=b("div"),k=b("span"),w=b("input"),(L=b("label")).textContent="Карта",M=y(),C=b("div"),U=b("span"),B=b("input"),(O=b("label")).textContent="Спутник ру",E=y(),S=b("div"),N=b("span"),q=b("input"),(G=b("label")).textContent="MapTiler Topo",I=y(),H=b("div"),R=b("span"),W=b("input"),(P=b("label")).textContent="MapBox",J=y(),Q=b("div"),Y=b("span"),K=b("input"),(V=b("label")).textContent="Рельеф RuMap",X=y(),(tt=b("div")).innerHTML='<label class="control control-checkbox">\n\t\t\t               Координатная сетка\n\t\t\t               <input type="checkbox" checked="checked"> <div class="control_indicator"></div></label>',x(l,"class","right-controls-pop-r1-text"),x(u,"class","right-controls-pop-r1-сlose"),x(u,"id","close-pop"),x(r,"class","right-controls-pop-r1"),x(w,"type","radio"),x(w,"name","radiog_dark"),x(w,"id","radio1"),x(w,"class","radio1 css-checkbox"),x(L,"for","radio1"),x(L,"class","css-label radGroup1 radGroup2"),x(k,"class","spacer"),x(_,"class","radio-arr"),x(B,"type","radio"),x(B,"name","radiog_dark"),x(B,"id","radio2"),x(B,"class","radio2 css-checkbox"),B.checked="checked",x(O,"for","radio2"),x(O,"class","css-label radGroup1 radGroup2"),x(U,"class","spacer"),x(C,"class","radio-arr"),x(q,"type","radio"),x(q,"name","radiog_dark"),x(q,"id","radio3"),x(q,"class","radio3 css-checkbox"),x(G,"for","radio3"),x(G,"class","css-label radGroup1 radGroup2"),x(N,"class","spacer"),x(S,"class","radio-arr"),x(W,"type","radio"),x(W,"name","radiog_dark"),x(W,"id","radio4"),x(W,"class","radio4 css-checkbox"),x(P,"for","radio4"),x(P,"class","css-label radGroup1 radGroup2"),x(R,"class","spacer"),x(H,"class","radio-arr"),x(K,"type","radio"),x(K,"name","radiog_dark"),x(K,"id","radio5"),x(K,"class","radio5 css-checkbox"),x(V,"for","radio5"),x(V,"class","css-label radGroup1 radGroup2"),x(Y,"class","spacer"),x(Q,"class","radio-arr"),x(m,"class","right-controls-pop-r2"),x(tt,"class","right-controls-pop-r3"),x(i,"class","right-controls-pop"),x(i,"id","control-pop"),x(o,"class",et="flexWrapper "+(n.base_visible?"":"hidden")),at=[$(u,"click",n.toggleBase),$(w,"click",n.setBase),$(B,"click",n.setBase),$(q,"click",n.setBase),$(W,"click",n.setBase),$(K,"click",n.setBase)]},m(t,e){h(t,o,e),g(o,i),g(i,r),g(r,l),g(r,d),g(r,u),g(i,p),g(i,m),g(m,_),g(_,k),g(k,w),g(k,L),g(m,M),g(m,C),g(C,U),g(U,B),g(U,O),g(m,E),g(m,S),g(S,N),g(N,q),g(N,G),g(m,I),g(m,H),g(H,R),g(R,W),g(R,P),g(m,J),g(m,Q),g(Q,Y),g(Y,K),g(Y,V),g(i,X),g(i,tt),st=!0},p(t,e){st&&!t.base_visible||et===(et="flexWrapper "+(e.base_visible?"":"hidden"))||x(o,"class",et)},i(n){st||(A(()=>{ot&&ot.end(1),nt||(nt=function(n,o,s){let i,r,l=o(n,s),d=!1,u=0;function p(){i&&z(n,i)}function m(){const{delay:o=0,duration:s=300,easing:a=e,tick:m=t,css:g}=l||F;g&&(i=Z(n,0,1,s,o,a,g,u++)),m(0,1);const h=c()+o,v=h+s;r&&r.abort(),d=!0,A(()=>j(n,!0,"start")),r=f(t=>{if(d){if(t>=v)return m(1,0),j(n,!0,"end"),p(),d=!1;if(t>=h){const e=a((t-h)/s);m(e,1-e)}}return d})}let g=!1;return{start(){g||(z(n),a(l)?(l=l(),T().then(m)):m())},invalidate(){g=!1},end(){d&&(p(),d=!1)}}}(o,dt,{y:200,duration:2e3})),nt.start()}),st=!0)},o(n){nt&&nt.invalidate(),ot=function(n,o,i){let r,l=o(n,i),d=!0;const u=D;function p(){const{delay:o=0,duration:a=300,easing:i=e,tick:p=t,css:m}=l||F;m&&(r=Z(n,1,0,a,o,i,m));const g=c()+o,h=g+a;A(()=>j(n,!1,"start")),f(t=>{if(d){if(t>=h)return p(0,1),j(n,!1,"end"),--u.r||s(u.c),!1;if(t>=g){const e=i((t-g)/a);p(1-e,e)}}return d})}return u.r+=1,a(l)?T().then(()=>{l=l(),p()}):p(),{end(t){t&&l.tick&&l.tick(1,0),d&&(r&&z(n,r),d=!1)}}}(o,lt,{}),st=!1},d(t){t&&(v(o),ot&&ot.end()),s(at)}}}function pt(t,e,n){let o=!1;et.subscribe(t=>{n("base_visible",o=t)});let s,a={1:L.tileLayer("//{s}tilecart.kosmosnimki.ru/kosmo/{z}/{x}/{y}.png",{maxZoom:21,maxNativeZoom:18,attribution:'<a target="_blank" href="http://maps.sputnik.ru" class="">Спутник</a> - © Ростелеком | © <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),2:L.tileLayer("//tilessputnik.ru/{z}/{x}/{y}.png",{maxZoom:21,maxNativeZoom:18,attribution:'<a target="_blank" href="http://maps.sputnik.ru" class="">Спутник</a> - © Ростелеком | © <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),3:L.tileLayer("//api.maptiler.com/maps/topo/256/{z}/{x}/{y}.png?key=FrA3SZOPvBcowh6thoTf",{maxZoom:22,attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">© MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>'}),4:L.tileLayer("//api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoia29zbW9zbmlta2lydSIsImEiOiJjaWhxMHNlZDgwNGFldHBtMjdyejQ3YTJ3In0.3UAAWcIBabrbUhHwmp1WjA",{maxZoom:22,maxNativeZoom:22,attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">© Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">© OpenStreetMap</a>'}),5:L.tileLayer.Mercator("//{s}tilecart.kosmosnimki.ru/r/{z}/{x}/{y}.png",{maxZoom:21,maxNativeZoom:18,attribution:'<a target="_blank" href="http://maps.sputnik.ru" class="">Спутник</a> - © Ростелеком | © <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})};tt.subscribe(t=>{(s=t)&&(console.log("map",s),s.addLayer(a[2]))});return{base_visible:o,toggleBase:()=>{et.update(t=>!t)},setBase:t=>{console.log("setBase",t);let e=t.target;for(let t=0,n=e.parentNode.parentNode.parentNode.getElementsByTagName("input").length;t<n;t++){let n=t+1,o=a[n],i="radio"+n;e.classList.contains(i)?o._map||s.addLayer(o):o._map&&s.removeLayer(o)}}}}class mt extends K{constructor(t){super(),Y(this,t,pt,ut,i,[])}}function ft(e){var n,o,s,a,i,r,c,l,d,u,p,m,f,_,k,w,Z,z=new st({}),L=new rt({}),M=new mt({});return{c(){(n=b("div")).innerHTML='<div class="block_left"><span class="logo"><div class="logo_left">\n\t\t\t\t\t\t   \n\t\t\t\t\t   </div> <div class="logo_left_text">\n\t\t\t\t\t\t  Logo\n\t\t\t\t\t   </div></span> <div class="left-icons"><div class="left-icons-left"><div class="icons-header-left1"></div> <div class="icons-header-left2"></div></div> <div class="left-icons-right"><div class="icons-header-right1"></div> <div class="icons-header-right2"></div></div></div> <div class="left-icons-1-act"></div> <div class="slider-container"><div class="range-slider"><input class="range-slider__range" type="range" value="30" min="0" max="100"> <span class="range-slider__value">30</span> <span class="percent">%</span></div></div></div> <div class="block_right"><input type="text" name="input" placeholder="Поиск по адресам и координатам" class="header-input"> <div class="account">Иннокентий Константинопольсикй</div></div>',o=y(),(s=b("div")).innerHTML='<div class="icons-vert-top"><div class="icons-vert-top-1"></div> <div class="icons-vert-top-2"></div> <div class="icons-vert-top-3"></div></div> <div class="icons-vert-bottom"><div class="icons-vert-bottom-1"></div></div>',a=y(),(i=b("div")).innerHTML='<div class="sidebar-opened-row1"><div class="sidebar-opened-row1-left">Название проекта/компании</div> <div class="sidebar-opened-row1-right"></div></div> <div class="sidebar-opened-row2"><input type="text" name="input1" class="header-input1"></div>',r=y(),z.$$.fragment.c(),c=y(),l=b("div"),d=b("div"),u=y(),L.$$.fragment.c(),p=y(),M.$$.fragment.c(),m=y(),f=b("div"),_=y(),k=b("div"),x(n,"class","header"),x(s,"class","sidebar"),x(i,"class","sidebar-opened"),x(d,"class","right-controls-2"),x(l,"class","right-controls"),x(f,"class","copyright"),x(k,"class","copyright-bottom"),Z=$(d,"click",e.toggleBase)},m(t,e){h(t,n,e),h(t,o,e),h(t,s,e),h(t,a,e),h(t,i,e),h(t,r,e),P(z,t,e),h(t,c,e),h(t,l,e),g(l,d),g(l,u),P(L,l,null),h(t,p,e),P(M,t,e),h(t,m,e),h(t,f,e),h(t,_,e),h(t,k,e),w=!0},p:t,i(t){w||(R(z.$$.fragment,t),R(L.$$.fragment,t),R(M.$$.fragment,t),w=!0)},o(t){W(z.$$.fragment,t),W(L.$$.fragment,t),W(M.$$.fragment,t),w=!1},d(t){t&&(v(n),v(o),v(s),v(a),v(i),v(r)),J(z,t),t&&(v(c),v(l)),J(L),t&&v(p),J(M,t),t&&(v(m),v(f),v(_),v(k)),Z()}}}function gt(t,e,n){et.subscribe(t=>{console.log("sssssssss",t)}),tt.subscribe(t=>{console.log("leafletMap",t)});return{toggleBase:()=>{et.update(t=>!t),console.log("leafletMap1",tt)}}}return new class extends K{constructor(t){super(),Y(this,t,gt,ft,i,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
