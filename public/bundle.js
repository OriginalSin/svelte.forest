var app=function(){"use strict";function t(){}const e=t=>t;function o(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(o)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const r="undefined"!=typeof window;let c=r?()=>window.performance.now():()=>Date.now(),l=r?t=>requestAnimationFrame(t):t;const d=new Set;let p,u=!1;function m(){d.forEach(t=>{t[0](c())||(d.delete(t),t[1]())}),(u=d.size>0)&&l(m)}function f(t){let e;return u||(u=!0,l(m)),{promise:new Promise(o=>{d.add(e=[t,o])}),abort(){d.delete(e)}}}function v(t,e){t.appendChild(e)}function h(t,e,o){t.insertBefore(e,o||null)}function b(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function y(){return t=" ",document.createTextNode(t);var t}function x(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function $(t,e,o){null==o?t.removeAttribute(e):t.setAttribute(e,o)}let k,_=0,w={};function Z(t,e,o,n,s,i,a,r=0){const c=16.666/n;let l="{\n";for(let t=0;t<=1;t+=c){const n=e+(o-e)*i(t);l+=100*t+`%{${a(n,1-n)}}\n`}const d=l+`100% {${a(o,1-o)}}\n}`,u=`__svelte_${function(t){let e=5381,o=t.length;for(;o--;)e=(e<<5)-e^t.charCodeAt(o);return e>>>0}(d)}_${r}`;if(!w[u]){if(!p){const t=g("style");document.head.appendChild(t),p=t.sheet}w[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length)}const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${u} ${n}ms linear ${s}ms 1 both`,_+=1,u}function z(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--_&&l(()=>{if(_)return;let t=p.cssRules.length;for(;t--;)p.deleteRule(t);w={}})}function M(t){k=t}function C(){if(!k)throw new Error("Function called outside component initialization");return k}const U=[],B=[],O=[],E=[],S=Promise.resolve();let N,q=!1;function A(t){O.push(t)}function G(){const t=new Set;do{for(;U.length;){const t=U.shift();M(t),I(t.$$)}for(;B.length;)B.pop()();for(let e=0;e<O.length;e+=1){const o=O[e];t.has(o)||(o(),t.add(o))}O.length=0}while(U.length);for(;E.length;)E.pop()();q=!1}function I(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(A))}function T(){return N||(N=Promise.resolve()).then(()=>{N=null}),N}function j(t,e,o){t.dispatchEvent(function(t,e){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,!1,!1,e),o}(`${e?"intro":"outro"}${o}`))}const H=new Set;let D;function R(t,e){t&&t.i&&(H.delete(t),t.i(e))}function W(t,e,o,n){if(t&&t.o){if(H.has(t))return;H.add(t),D.c.push(()=>{H.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}}const F={duration:0};function P(t,e,n){const{fragment:a,on_mount:r,on_destroy:c,after_update:l}=t.$$;a.m(e,n),A(()=>{const e=r.map(o).filter(i);c?c.push(...e):s(e),t.$$.on_mount=[]}),l.forEach(A)}function J(t,e){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function Q(t,e){t.$$.dirty||(U.push(t),q||(q=!0,S.then(G)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function Y(e,o,i,a,r,c){const l=k;M(e);const d=o.props||{},p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:null};let u=!1;var m;p.ctx=i?i(e,d,(t,o)=>{p.ctx&&r(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),u&&Q(e,t))}):d,p.update(),u=!0,s(p.before_update),p.fragment=a(p.ctx),o.target&&(o.hydrate?p.fragment.l((m=o.target,Array.from(m.childNodes))):p.fragment.c(),o.intro&&R(e.$$.fragment),P(e,o.target,o.anchor),G()),M(l)}class K{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(){}}const V=[];function X(e,o=t){let n;const s=[];function i(t){if(a(e,t)&&(e=t,n)){const t=!V.length;for(let t=0;t<s.length;t+=1){const o=s[t];o[1](),V.push(o,e)}if(t){for(let t=0;t<V.length;t+=2)V[t][0](V[t+1]);V.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,r=t){const c=[a,r];return s.push(c),1===s.length&&(n=o(i)||t),a(e),()=>{const t=s.indexOf(c);-1!==t&&s.splice(t,1),0===s.length&&(n(),n=null)}}}}const tt=X(0),et=X(0);function ot(e){var o;return{c(){$(o=g("div"),"id","map")},m(t,n){h(t,o,n),e.div_binding(o)},p:t,i:t,o:t,d(t){t&&b(o),e.div_binding(null)}}}function nt(t,e,o){let n,s=null,{center:i=[55.72711,37.441406],id:a="",layers:r=[],maxZoom:c=21,minZoom:l=1,zoom:d=4,ftc:p="osm",srs:u=3857,distanceUnit:m="auto",squareUnit:f="auto",baseLayers:v=[]}=e;var h;return h=(()=>{const{DefaultLong:t,DefaultLat:e,MinZoom:a,MaxZoom:r,DefaultZoom:p,DistanceUnit:u,SquareUnit:v}={};o("center",i=[e||60.5,t||95.09]),o("minZoom",l=a||l),o("maxZoom",c=r||c),o("zoom",d=p||d),o("distanceUnit",m=u||m),o("squareUnit",f=v||f),(s=L.map(n,{center:i,minZoom:l,zoom:d,maxZoom:c,zoomControl:!1,attributionControl:!1,trackResize:!0,fadeAnimation:!0,zoomAnimation:!0,distanceUnit:"auto",squareUnit:"auto"})).invalidateSize(),tt.set(s)}),C().$$.on_mount.push(h),t.$set=(t=>{"center"in t&&o("center",i=t.center),"id"in t&&o("id",a=t.id),"layers"in t&&o("layers",r=t.layers),"maxZoom"in t&&o("maxZoom",c=t.maxZoom),"minZoom"in t&&o("minZoom",l=t.minZoom),"zoom"in t&&o("zoom",d=t.zoom),"ftc"in t&&o("ftc",p=t.ftc),"srs"in t&&o("srs",u=t.srs),"distanceUnit"in t&&o("distanceUnit",m=t.distanceUnit),"squareUnit"in t&&o("squareUnit",f=t.squareUnit),"baseLayers"in t&&o("baseLayers",v=t.baseLayers)}),{mapContainer:n,center:i,id:a,layers:r,maxZoom:c,minZoom:l,zoom:d,ftc:p,srs:u,distanceUnit:m,squareUnit:f,baseLayers:v,div_binding:function(t){B[t?"unshift":"push"](()=>{o("mapContainer",n=t)})}}}class st extends K{constructor(t){super(),Y(this,t,nt,ot,a,["center","id","layers","maxZoom","minZoom","zoom","ftc","srs","distanceUnit","squareUnit","baseLayers"])}}function it(e){var o,n,i,a,r,c,l;return{c(){o=g("div"),n=g("div"),i=y(),(a=g("div")).textContent="5",r=y(),c=g("div"),$(n,"class","right-controls-3-1"),$(a,"class","right-controls-3-2"),$(c,"class","right-controls-3-3"),$(o,"class","right-controls-3"),l=[x(n,"click",e.zoomIn),x(c,"click",e.zoomOut)]},m(t,s){h(t,o,s),v(o,n),v(o,i),v(o,a),e.div1_binding(a),v(o,r),v(o,c)},p:t,i:t,o:t,d(t){t&&b(o),e.div1_binding(null),s(l)}}}function at(t,e,o){let n,s,i=t=>{let e=n.getZoom();s.textContent=e,o("zoom",s),console.log("setZoom",n.getZoom(),t)};var a;return L.Map.addInitHook(function(){(n=this).on("zoomend",i)}),a=(()=>{console.log("the component is about to update",n)}),C().$$.before_update.push(a),{zoom:s,zoomIn:()=>{let t=parseInt(s.textContent);console.log("zoomIn",n.getZoom(),s),n.setZoom(t+1)},zoomOut:()=>{let t=parseInt(s.textContent);console.log("zoomOut",n.getZoom()),n.setZoom(t-1)},div1_binding:function(t){B[t?"unshift":"push"](()=>{o("zoom",s=t)})}}}class rt extends K{constructor(t){super(),Y(this,t,at,it,a,[])}}function ct(t){const e=t-1;return e*e*e+1}function lt(t,{delay:e=0,duration:o=400}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:o,css:t=>`opacity: ${t*n}`}}function dt(t,{delay:e=0,duration:o=400,easing:n=ct,x:s=0,y:i=0,opacity:a=0}){const r=getComputedStyle(t),c=+r.opacity,l="none"===r.transform?"":r.transform,d=c*(1-a);return{delay:e,duration:o,easing:n,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*s}px, ${(1-t)*i}px);\n\t\t\topacity: ${c-d*e}`}}function pt(o){var n,a,r,l,d,p,u,m,k,_,w,L,M,C,U,B,O,E,S,N,q,G,I,H,R,W,P,J,Q,Y,K,V,X,tt,et,ot,nt,st,it;return{c(){n=g("div"),a=g("div"),r=g("div"),(l=g("div")).textContent="Подложка",d=y(),p=g("div"),u=y(),m=g("div"),k=g("div"),_=g("span"),w=g("input"),(L=g("label")).textContent="Карта",M=y(),C=g("div"),U=g("span"),B=g("input"),(O=g("label")).textContent="Спутник ру",E=y(),S=g("div"),N=g("span"),q=g("input"),(G=g("label")).textContent="MapTiler Topo",I=y(),H=g("div"),R=g("span"),W=g("input"),(P=g("label")).textContent="MapBox",J=y(),Q=g("div"),Y=g("span"),K=g("input"),(V=g("label")).textContent="Рельеф RuMap",X=y(),(tt=g("div")).innerHTML='<label class="control control-checkbox">\n\t\t\t               Координатная сетка\n\t\t\t               <input type="checkbox" checked="checked"> <div class="control_indicator"></div></label>',$(l,"class","right-controls-pop-r1-text"),$(p,"class","right-controls-pop-r1-сlose"),$(p,"id","close-pop"),$(r,"class","right-controls-pop-r1"),$(w,"type","radio"),$(w,"name","radiog_dark"),$(w,"id","radio1"),$(w,"class","radio1 css-checkbox"),$(L,"for","radio1"),$(L,"class","css-label radGroup1 radGroup2"),$(_,"class","spacer"),$(k,"class","radio-arr"),$(B,"type","radio"),$(B,"name","radiog_dark"),$(B,"id","radio2"),$(B,"class","radio2 css-checkbox"),B.checked="checked",$(O,"for","radio2"),$(O,"class","css-label radGroup1 radGroup2"),$(U,"class","spacer"),$(C,"class","radio-arr"),$(q,"type","radio"),$(q,"name","radiog_dark"),$(q,"id","radio3"),$(q,"class","radio3 css-checkbox"),$(G,"for","radio3"),$(G,"class","css-label radGroup1 radGroup2"),$(N,"class","spacer"),$(S,"class","radio-arr"),$(W,"type","radio"),$(W,"name","radiog_dark"),$(W,"id","radio4"),$(W,"class","radio4 css-checkbox"),$(P,"for","radio4"),$(P,"class","css-label radGroup1 radGroup2"),$(R,"class","spacer"),$(H,"class","radio-arr"),$(K,"type","radio"),$(K,"name","radiog_dark"),$(K,"id","radio5"),$(K,"class","radio5 css-checkbox"),$(V,"for","radio5"),$(V,"class","css-label radGroup1 radGroup2"),$(Y,"class","spacer"),$(Q,"class","radio-arr"),$(m,"class","right-controls-pop-r2"),$(tt,"class","right-controls-pop-r3"),$(a,"class","right-controls-pop"),$(a,"id","control-pop"),$(n,"class",et="flexWrapper "+(o.base_visible?"":"hidden")),it=[x(p,"click",o.toggleBase),x(w,"click",o.setBase),x(B,"click",o.setBase),x(q,"click",o.setBase),x(W,"click",o.setBase),x(K,"click",o.setBase)]},m(t,e){h(t,n,e),v(n,a),v(a,r),v(r,l),v(r,d),v(r,p),v(a,u),v(a,m),v(m,k),v(k,_),v(_,w),v(_,L),v(m,M),v(m,C),v(C,U),v(U,B),v(U,O),v(m,E),v(m,S),v(S,N),v(N,q),v(N,G),v(m,I),v(m,H),v(H,R),v(R,W),v(R,P),v(m,J),v(m,Q),v(Q,Y),v(Y,K),v(Y,V),v(a,X),v(a,tt),st=!0},p(t,e){st&&!t.base_visible||et===(et="flexWrapper "+(e.base_visible?"":"hidden"))||$(n,"class",et)},i(o){st||(A(()=>{nt&&nt.end(1),ot||(ot=function(o,n,s){let a,r,l=n(o,s),d=!1,p=0;function u(){a&&z(o,a)}function m(){const{delay:n=0,duration:s=300,easing:i=e,tick:m=t,css:v}=l||F;v&&(a=Z(o,0,1,s,n,i,v,p++)),m(0,1);const h=c()+n,b=h+s;r&&r.abort(),d=!0,A(()=>j(o,!0,"start")),r=f(t=>{if(d){if(t>=b)return m(1,0),j(o,!0,"end"),u(),d=!1;if(t>=h){const e=i((t-h)/s);m(e,1-e)}}return d})}let v=!1;return{start(){v||(z(o),i(l)?(l=l(),T().then(m)):m())},invalidate(){v=!1},end(){d&&(u(),d=!1)}}}(n,dt,{y:200,duration:2e3})),ot.start()}),st=!0)},o(o){ot&&ot.invalidate(),nt=function(o,n,a){let r,l=n(o,a),d=!0;const p=D;function u(){const{delay:n=0,duration:i=300,easing:a=e,tick:u=t,css:m}=l||F;m&&(r=Z(o,1,0,i,n,a,m));const v=c()+n,h=v+i;A(()=>j(o,!1,"start")),f(t=>{if(d){if(t>=h)return u(0,1),j(o,!1,"end"),--p.r||s(p.c),!1;if(t>=v){const e=a((t-v)/i);u(1-e,e)}}return d})}return p.r+=1,i(l)?T().then(()=>{l=l(),u()}):u(),{end(t){t&&l.tick&&l.tick(1,0),d&&(r&&z(o,r),d=!1)}}}(n,lt,{}),st=!1},d(t){t&&(b(n),nt&&nt.end()),s(it)}}}function ut(t,e,o){let n=!1;et.subscribe(t=>{o("base_visible",n=t)});let s,i={1:L.tileLayer("//{s}tilecart.kosmosnimki.ru/kosmo/{z}/{x}/{y}.png",{maxZoom:21,maxNativeZoom:18,attribution:'<a target="_blank" href="http://maps.sputnik.ru" class="">Спутник</a> - © Ростелеком | © <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),2:L.tileLayer("//tilessputnik.ru/{z}/{x}/{y}.png",{maxZoom:21,maxNativeZoom:18,attribution:'<a target="_blank" href="http://maps.sputnik.ru" class="">Спутник</a> - © Ростелеком | © <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),3:L.tileLayer("//api.maptiler.com/maps/topo/256/{z}/{x}/{y}.png?key=FrA3SZOPvBcowh6thoTf",{maxZoom:22,attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">© MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>'}),4:L.tileLayer("//api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoia29zbW9zbmlta2lydSIsImEiOiJjaWhxMHNlZDgwNGFldHBtMjdyejQ3YTJ3In0.3UAAWcIBabrbUhHwmp1WjA",{maxZoom:22,maxNativeZoom:22,attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">© Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">© OpenStreetMap</a>'}),5:L.tileLayer.Mercator("//{s}tilecart.kosmosnimki.ru/r/{z}/{x}/{y}.png",{maxZoom:21,maxNativeZoom:18,attribution:'<a target="_blank" href="http://maps.sputnik.ru" class="">Спутник</a> - © Ростелеком | © <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})};tt.subscribe(t=>{(s=t)&&(console.log("map",s),s.addLayer(i[2]))});return{base_visible:n,toggleBase:()=>{et.update(t=>!t)},setBase:t=>{console.log("setBase",t);let e=t.target;for(let t=0,o=e.parentNode.parentNode.parentNode.getElementsByTagName("input").length;t<o;t++){let o=t+1,n=i[o],a="radio"+o;e.classList.contains(a)?n._map||s.addLayer(n):n._map&&s.removeLayer(n)}}}}class mt extends K{constructor(t){super(),Y(this,t,ut,pt,a,[])}}function ft(e){var o,n,s,i,a,r,c,l,d,p,u,m,f,k,_,w,Z,z=new st({}),L=new rt({}),M=new mt({});return{c(){(o=g("div")).innerHTML='<div class="block_left"><span class="logo"><div class="logo_left">\n\t\t\t\t\t\t   \n\t\t\t\t\t   </div> <div class="logo_left_text">\n\t\t\t\t\t\t  Logo\n\t\t\t\t\t   </div></span> <div class="left-icons"><div class="left-icons-left"><div class="icons-header-left1"></div> <div class="icons-header-left2"></div></div> <div class="left-icons-right"><div class="icons-header-right1"></div> <div class="icons-header-right2"></div></div></div> <div class="left-icons-1-act"></div> <div class="slider-container"><div class="range-slider"><input class="range-slider__range" type="range" value="30" min="0" max="100"> <span class="range-slider__value">30</span> <span class="percent">%</span></div></div></div> <div class="block_right"><input type="text" name="input" placeholder="Поиск по адресам и координатам" class="header-input"> <div class="account">Имя Фамилия</div> <div class="account-star"></div></div>',n=y(),(s=g("div")).innerHTML='<div class="icons-vert-top"><div class="icons-vert-top-1"></div> <div class="icons-vert-top-2"></div> <div class="icons-vert-top-3"></div></div> <div class="icons-vert-bottom"><div class="icons-vert-bottom-1"></div></div>',i=y(),(a=g("div")).innerHTML='<div class="sidebar-opened-row1"><div class="sidebar-opened-row1-left">Название проекта/компании</div> <div class="sidebar-opened-row1-right"></div></div> <div class="sidebar-opened-row2"><input type="text" name="input1" class="header-input1"></div> <div class="sidebar-opened-row3"><div class="sidebar-opened-row3-left"><label class="control control-checkbox">\n\t\t\t               Выделить все\n\t\t\t               <input type="checkbox"> <div class="control_indicator"></div></label></div> <div class="sidebar-opened-row3-right"><div class="sidebar-opened-row3-right-el1"></div> <div class="sidebar-opened-row3-right-el2"></div> <div class="sidebar-opened-row3-right-el3"></div> <div class="sidebar-opened-row3-right-el4"></div></div></div> <div class="sidebar-opened-row-el"><div class="sidebar-opened-el-left"><label class="control control-checkbox control-black control-group">\n\t\t\t               Делянки\n\t\t\t               <input type="checkbox" checked="checked"> <div class="control_indicator"></div></label></div> <div class="sidebar-opened-el-right"></div></div> <div class="sidebar-opened-row-el"><div class="sidebar-opened-el-left"><label class="control control-checkbox control-black control-empty">\n\t\t\t               Пустой слой\n\t\t\t               <input type="checkbox"> <div class="control_indicator"></div></label></div> <div class="sidebar-opened-el-right"></div></div> <div class="sidebar-opened-row-el"><div class="sidebar-opened-el-left"><label class="control control-checkbox control-black control-group">\n\t\t\t               Квартальные сети\n\t\t\t               <input type="checkbox" checked="checked"> <div class="control_indicator"></div></label></div> <div class="sidebar-opened-el-right"></div></div> <div class="sidebar-opened-row-el"><div class="sidebar-opened-el-left"><label class="control control-checkbox control-black control-empty">\n\t\t\t               Пустой слой\n\t\t\t               <input type="checkbox" checked="checked"> <div class="control_indicator"></div></label></div> <div class="sidebar-opened-el-right"></div></div>',r=y(),z.$$.fragment.c(),c=y(),l=g("div"),d=g("div"),p=y(),L.$$.fragment.c(),u=y(),M.$$.fragment.c(),m=y(),f=g("div"),k=y(),_=g("div"),$(o,"class","header"),$(s,"class","sidebar"),$(a,"class","sidebar-opened"),$(d,"class","right-controls-2"),$(l,"class","right-controls"),$(f,"class","copyright"),$(_,"class","copyright-bottom"),Z=x(d,"click",e.toggleBase)},m(t,e){h(t,o,e),h(t,n,e),h(t,s,e),h(t,i,e),h(t,a,e),h(t,r,e),P(z,t,e),h(t,c,e),h(t,l,e),v(l,d),v(l,p),P(L,l,null),h(t,u,e),P(M,t,e),h(t,m,e),h(t,f,e),h(t,k,e),h(t,_,e),w=!0},p:t,i(t){w||(R(z.$$.fragment,t),R(L.$$.fragment,t),R(M.$$.fragment,t),w=!0)},o(t){W(z.$$.fragment,t),W(L.$$.fragment,t),W(M.$$.fragment,t),w=!1},d(t){t&&(b(o),b(n),b(s),b(i),b(a),b(r)),J(z,t),t&&(b(c),b(l)),J(L),t&&b(u),J(M,t),t&&(b(m),b(f),b(k),b(_)),Z()}}}function vt(t,e,o){et.subscribe(t=>{console.log("sssssssss",t)}),tt.subscribe(t=>{console.log("leafletMap",t)});return{toggleBase:()=>{et.update(t=>!t),console.log("leafletMap1",tt)}}}return new class extends K{constructor(t){super(),Y(this,t,vt,ft,a,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
